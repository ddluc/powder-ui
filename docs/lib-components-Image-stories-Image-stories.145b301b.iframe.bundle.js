"use strict";(self.webpackChunkpowder_ui=self.webpackChunkpowder_ui||[]).push([[488],{"./src/lib/components/Image/stories/Image.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Main:()=>Main,__namedExportsOrder:()=>__namedExportsOrder,asSkeleton:()=>asSkeleton,default:()=>Image_stories,isOffscreen:()=>isOffscreen,withProgressiveLoading:()=>withProgressiveLoading});var templateObject_1,PreviewImage_templateObject_1,MainImage_templateObject_1,react=__webpack_require__("./node_modules/react/index.js"),Block=__webpack_require__("./src/lib/components/Block/index.ts"),Skeleton=__webpack_require__("./src/lib/components/Skeleton/index.ts"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Fit=(0,styled_components_browser_esm.cp)(Block.k)(templateObject_1||(templateObject_1=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}(["\n  > * {\n    object-fit: ",";\n    height: 100%;\n    width: 100%;\n    object-position: ",";\n  }\n"],["\n  > * {\n    object-fit: ",";\n    height: 100%;\n    width: 100%;\n    object-position: ",";\n  }\n"])),function(_a){return _a.fit},function(_a){return _a.align||"50% 50%"});try{Fit.displayName="Fit",Fit.__docgenInfo={description:"",displayName:"Fit",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Fit/Fit.tsx#Fit"]={docgenInfo:Fit.__docgenInfo,name:"Fit",path:"src/lib/components/Fit/Fit.tsx#Fit"})}catch(__react_docgen_typescript_loader_error){}var util=__webpack_require__("./src/lib/util/index.ts"),useOnScreen=function(offset){void 0===offset&&(offset=0);var _a=(0,react.useState)(!1),isVisible=_a[0],setIsVisible=_a[1],currentElement=(0,react.useRef)(),onScroll=(0,util.Cu)(function(){if(!currentElement.current){setIsVisible(!1);return}var top=currentElement.current.getBoundingClientRect().top;setIsVisible(top+offset>=0&&top-offset<=window.innerHeight)});return react.useEffect(function(){onScroll()},[]),(0,react.useEffect)(function(){return document.addEventListener("scroll",onScroll,!0),function(){return document.removeEventListener("scroll",onScroll,!0)}}),[isVisible,currentElement]},PreviewImage=styled_components_browser_esm.cp.img(PreviewImage_templateObject_1||(PreviewImage_templateObject_1=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}(["\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  filter: ",";\n  opacity: ",";\n  transition: opacity ease-in 200ms;\n  clip-path: inset(0);\n"],["\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  filter: ",";\n  opacity: ",";\n  transition: opacity ease-in 200ms;\n  clip-path: inset(0);\n"])),function(_a){var _b=_a.blur;return"blur(".concat(void 0===_b?5:_b,"px)")},function(_a){var _b=_a.opacity;return void 0===_b?1:_b}),MainImage=styled_components_browser_esm.cp.img(MainImage_templateObject_1||(MainImage_templateObject_1=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}([""],[""]))),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t},Image=function(props){if((0,Skeleton.y)(props))return react.createElement(Skeleton.W,__assign({},props,{type:"box"}));var height=props.height,width=props.width,src=props.src,blur=props.blur,backgroundColor=props.backgroundColor,fit=props.fit,xpos=props.xpos,ypos=props.ypos,imageProps=__rest(props,["height","width","src","blur","backgroundColor","fit","xpos","ypos"]),_a=react.useState(!1),isLoaded=_a[0],setIsLoaded=_a[1],_b=useOnScreen(),isVisible=_b[0],currentElement=_b[1],onImageLoad=react.useCallback(function(){setIsLoaded(!0)},[setIsLoaded]);return react.createElement(Fit,{ref:currentElement,height:(0,util.px)(height),width:(0,util.px)(width),position:"relative",fit:fit,align:"".concat((0,util.KA)(xpos)," ").concat((0,util.KA)(ypos)),background:{color:backgroundColor||"none"},opacity:isLoaded?1:0},(isVisible||isLoaded)&&react.createElement(MainImage,__assign({},imageProps,{height:"100%",width:"100%",src:src.main,onLoad:onImageLoad})),src.preview?react.createElement(PreviewImage,__assign({},imageProps,{height:"100%",width:"100%",opacity:isLoaded?0:1,blur:blur,src:src.preview})):"")};try{Image.displayName="Image",Image.__docgenInfo={description:"",displayName:"Image",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"{ main: string; preview?: string; }"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},blur:{defaultValue:null,description:"",name:"blur",required:!1,type:{name:"number"}},fit:{defaultValue:null,description:"",name:"fit",required:!1,type:{name:"enum",value:[{value:'"fill"'},{value:'"scale"'},{value:'"cover"'},{value:'"contain"'}]}},xpos:{defaultValue:null,description:"",name:"xpos",required:!0,type:{name:"number"}},ypos:{defaultValue:null,description:"",name:"ypos",required:!0,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!1,type:{name:"string"}},skeleton:{defaultValue:null,description:"",name:"skeleton",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Image/Image.tsx#Image"]={docgenInfo:Image.__docgenInfo,name:"Image",path:"src/lib/components/Image/Image.tsx#Image"})}catch(__react_docgen_typescript_loader_error){}var Scroll=__webpack_require__("./src/lib/components/Scroll/index.ts"),Typography=__webpack_require__("./src/lib/components/Typography/index.ts"),Image_stories_assign=function(){return(Image_stories_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};let Image_stories={title:"Core/Image",component:Image,argTypes:{xpos:{control:{type:"range"}},ypos:{control:{type:"range"}}},args:{src:{main:"https://piste-ui.s3.us-west-2.amazonaws.com/ski.jpg"},width:300,height:300,fit:"cover",xpos:50,ypos:50}};var Template=function(args){return react.createElement(Image,Image_stories_assign({},args))},Main=Template.bind({}),withProgressiveLoading=Template.bind({});withProgressiveLoading.args={src:{main:"https://piste-ui.s3.us-west-2.amazonaws.com/ski.jpg",preview:"https://piste-ui.s3.us-west-2.amazonaws.com/ski--thumbnail.jpg"},blur:5,backgroundColor:"#EDEDED"};var isOffscreen=(function(args){return react.createElement(Scroll.o,{direction:"y",height:"92vh",position:"relative"},react.createElement(Block.k,{height:"1200px"},react.createElement(Typography.O.Body,null,"Scroll down to see image")),react.createElement(Image,Image_stories_assign({},args)))}).bind({});isOffscreen.args={src:{main:"https://piste-ui.s3.us-west-2.amazonaws.com/ski.jpg",preview:"https://piste-ui.s3.us-west-2.amazonaws.com/ski--thumbnail.jpg"},blur:5,backgroundColor:"#EDEDED"};var asSkeleton=Template.bind({});asSkeleton.args={skeleton:!0,height:400,width:400},Main.parameters={...Main.parameters,docs:{...Main.parameters?.docs,source:{originalSource:"(args: ImageProps) => <Image {...args} />",...Main.parameters?.docs?.source}}},withProgressiveLoading.parameters={...withProgressiveLoading.parameters,docs:{...withProgressiveLoading.parameters?.docs,source:{originalSource:"(args: ImageProps) => <Image {...args} />",...withProgressiveLoading.parameters?.docs?.source}}},isOffscreen.parameters={...isOffscreen.parameters,docs:{...isOffscreen.parameters?.docs,source:{originalSource:'(args: ImageProps) => <Scroll direction="y" height="92vh" position="relative">\n    <Block height="1200px">\n      <Typography.Body>Scroll down to see image</Typography.Body>\n    </Block>\n    <Image {...args} />\n  </Scroll>',...isOffscreen.parameters?.docs?.source}}},asSkeleton.parameters={...asSkeleton.parameters,docs:{...asSkeleton.parameters?.docs,source:{originalSource:"(args: ImageProps) => <Image {...args} />",...asSkeleton.parameters?.docs?.source}}};let __namedExportsOrder=["Main","withProgressiveLoading","isOffscreen","asSkeleton"]},"./src/lib/components/Scroll/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>Scroll_Scroll});var templateObject_1,styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Block=__webpack_require__("./src/lib/components/Block/index.ts"),Scroll=(0,styled_components_browser_esm.cp)(Block.k)(templateObject_1||(templateObject_1=function(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}(["\n  ",";\n  ",";\n"],["\n  ",";\n  ",";\n"])),function(_a){return"x"===_a.direction&&"overflow-x: scroll"},function(_a){return"y"===_a.direction&&"overflow-y: scroll"});let Scroll_Scroll=Scroll;try{Scroll.displayName="Scroll",Scroll.__docgenInfo={description:"",displayName:"Scroll",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"DefaultTheme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"void | WebTarget"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"void | WebTarget"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Scroll/Scroll.tsx#Scroll"]={docgenInfo:Scroll.__docgenInfo,name:"Scroll",path:"src/lib/components/Scroll/Scroll.tsx#Scroll"})}catch(__react_docgen_typescript_loader_error){}},"./src/lib/util/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cu:()=>debounce,KA:()=>pcnt,mc:()=>getOutline,or:()=>transparentize,px:()=>px});var _this=void 0,debounce=function(func,interval,leading){var timeout;return void 0===interval&&(interval=200),void 0===leading&&(leading=!1),function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];leading&&!timeout&&func.apply(_this,args),clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,leading||func.apply(_this,args)},interval)}},px=function(num){return"".concat(num,"px")},pcnt=function(num){return"".concat(num,"%")},transparentize=function(color,opacity){return opacity?color+Math.round(255*Math.min(Math.max(opacity||1,0),1)).toString(16).toUpperCase():color},getOutline=function(error,theme){return error?"".concat(transparentize(theme.palette.danger.main,.3)," ").concat(theme.forms.outline):"".concat(theme.palette.primary.shades[3]," ").concat(theme.forms.outline)}}}]);